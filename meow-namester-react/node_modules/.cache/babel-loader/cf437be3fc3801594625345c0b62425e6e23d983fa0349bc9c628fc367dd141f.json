{"ast":null,"code":"/**\n * @module PreferenceSorter\n * @description A class that implements a merge sort algorithm with custom comparisons\n * for sorting cat names based on user preferences. Uses recursive merge sort with\n * asynchronous comparisons to handle user input.\n * \n * @example\n * const sorter = new PreferenceSorter(['Whiskers', 'Mittens', 'Luna']);\n * const sorted = await sorter.sort(async (a, b) => {\n *   // Return -1 if a is preferred, 1 if b is preferred, 0 if equal\n *   return await getUserPreference(a, b);\n * });\n * \n * @class\n * @property {Array} namMember - Array of items to be sorted\n * @property {Array} rec - Internal record keeping array\n * @property {Array} ranks - Final sorted array\n */\n\nexport class PreferenceSorter {\n  constructor(items) {\n    this.namMember = [...items];\n    this.nrec = 0;\n    this.rec = new Array(items.length);\n    this.ranks = [];\n    console.log('PreferenceSorter initialized with items:', items);\n  }\n\n  /**\n   * Initiates the sorting process\n   * @param {Function} compareCallback - Async function that compares two items\n   * @returns {Promise<Array>} Sorted array based on comparison results\n   */\n  async sort(compareCallback) {\n    console.log('Starting sort process with items:', this.namMember);\n    const n = this.namMember.length;\n    for (let i = 0; i < n; i++) {\n      this.rec[i] = 0;\n    }\n    let mid = Math.floor(n / 2);\n    await this.sortRecursive(0, n - 1, compareCallback);\n    console.log('Sort completed. Final ranks:', this.ranks);\n    return this.ranks;\n  }\n\n  /**\n   * Recursive helper for the merge sort algorithm\n   * @private\n   * @param {number} left - Left boundary of current subarray\n   * @param {number} right - Right boundary of current subarray\n   * @param {Function} compareCallback - Comparison callback function\n   */\n  async sortRecursive(left, right, compareCallback) {\n    if (right - left < 1) {\n      if (left === right) {\n        this.ranks.push(this.namMember[left]);\n        console.log(`Added single item to ranks: ${this.namMember[left]}`);\n      }\n      return;\n    }\n    const mid = Math.floor((left + right) / 2);\n    console.log(`Splitting array at indices ${left}-${mid} and ${mid + 1}-${right}`);\n    await this.sortRecursive(left, mid, compareCallback);\n    await this.sortRecursive(mid + 1, right, compareCallback);\n    await this.mergeSubGroups(left, mid, right, compareCallback);\n  }\n\n  /**\n   * Merges two sorted subarrays\n   * @private\n   * @param {number} left - Start of first subarray\n   * @param {number} mid - End of first subarray\n   * @param {number} right - End of second subarray\n   * @param {Function} compareCallback - Comparison callback function\n   */\n  async mergeSubGroups(left, mid, right, compareCallback) {\n    console.log(`Merging subarrays: ${left}-${mid} with ${mid + 1}-${right}`);\n    let i = left;\n    let j = mid + 1;\n    const merged = [];\n    while (i <= mid && j <= right) {\n      console.log(`Comparing ${this.namMember[i]} with ${this.namMember[j]}`);\n      const result = await compareCallback(this.namMember[i], this.namMember[j]);\n      console.log(`Comparison result: ${result}`);\n      if (result <= -0.5) {\n        // First name preferred\n        console.log(`${this.namMember[i]} preferred over ${this.namMember[j]}`);\n        merged.push(this.namMember[j++]); // Put less preferred name first\n      } else if (result >= 0.5) {\n        // Second name preferred\n        console.log(`${this.namMember[j]} preferred over ${this.namMember[i]}`);\n        merged.push(this.namMember[i++]); // Put less preferred name first\n      } else {\n        // Handle near-ties with slight preference\n        console.log(`Near tie between ${this.namMember[i]} and ${this.namMember[j]}`);\n        if (result < 0) {\n          merged.push(this.namMember[j++]);\n          merged.push(this.namMember[i++]);\n        } else {\n          merged.push(this.namMember[i++]);\n          merged.push(this.namMember[j++]);\n        }\n      }\n    }\n\n    // Add remaining elements\n    while (i <= mid) {\n      console.log(`Adding remaining left item: ${this.namMember[i]}`);\n      merged.push(this.namMember[i++]);\n    }\n    while (j <= right) {\n      console.log(`Adding remaining right item: ${this.namMember[j]}`);\n      merged.push(this.namMember[j++]);\n    }\n\n    // Update original array and ranks\n    for (let k = 0; k < merged.length; k++) {\n      this.namMember[left + k] = merged[k];\n    }\n    // Update ranks in reverse order to get most preferred first\n    if (left === 0 && right === this.namMember.length - 1) {\n      this.ranks = [...merged].reverse();\n    }\n    console.log(`Merged result: ${merged.join(', ')}`);\n  }\n}","map":{"version":3,"names":["PreferenceSorter","constructor","items","namMember","nrec","rec","Array","length","ranks","console","log","sort","compareCallback","n","i","mid","Math","floor","sortRecursive","left","right","push","mergeSubGroups","j","merged","result","k","reverse","join"],"sources":["/Users/aaron/Desktop/Side Projects/name-picker/meow-namester-react/src/utils/sortingAlgorithm.js"],"sourcesContent":["/**\n * @module PreferenceSorter\n * @description A class that implements a merge sort algorithm with custom comparisons\n * for sorting cat names based on user preferences. Uses recursive merge sort with\n * asynchronous comparisons to handle user input.\n * \n * @example\n * const sorter = new PreferenceSorter(['Whiskers', 'Mittens', 'Luna']);\n * const sorted = await sorter.sort(async (a, b) => {\n *   // Return -1 if a is preferred, 1 if b is preferred, 0 if equal\n *   return await getUserPreference(a, b);\n * });\n * \n * @class\n * @property {Array} namMember - Array of items to be sorted\n * @property {Array} rec - Internal record keeping array\n * @property {Array} ranks - Final sorted array\n */\n\nexport class PreferenceSorter {\n    constructor(items) {\n        this.namMember = [...items];\n        this.nrec = 0;\n        this.rec = new Array(items.length);\n        this.ranks = [];\n        console.log('PreferenceSorter initialized with items:', items);\n    }\n\n    /**\n     * Initiates the sorting process\n     * @param {Function} compareCallback - Async function that compares two items\n     * @returns {Promise<Array>} Sorted array based on comparison results\n     */\n    async sort(compareCallback) {\n        console.log('Starting sort process with items:', this.namMember);\n        const n = this.namMember.length;\n        for (let i = 0; i < n; i++) {\n            this.rec[i] = 0;\n        }\n        let mid = Math.floor(n / 2);\n        await this.sortRecursive(0, n - 1, compareCallback);\n        console.log('Sort completed. Final ranks:', this.ranks);\n        return this.ranks;\n    }\n\n    /**\n     * Recursive helper for the merge sort algorithm\n     * @private\n     * @param {number} left - Left boundary of current subarray\n     * @param {number} right - Right boundary of current subarray\n     * @param {Function} compareCallback - Comparison callback function\n     */\n    async sortRecursive(left, right, compareCallback) {\n        if (right - left < 1) {\n            if (left === right) {\n                this.ranks.push(this.namMember[left]);\n                console.log(`Added single item to ranks: ${this.namMember[left]}`);\n            }\n            return;\n        }\n\n        const mid = Math.floor((left + right) / 2);\n        console.log(`Splitting array at indices ${left}-${mid} and ${mid + 1}-${right}`);\n        await this.sortRecursive(left, mid, compareCallback);\n        await this.sortRecursive(mid + 1, right, compareCallback);\n        await this.mergeSubGroups(left, mid, right, compareCallback);\n    }\n\n    /**\n     * Merges two sorted subarrays\n     * @private\n     * @param {number} left - Start of first subarray\n     * @param {number} mid - End of first subarray\n     * @param {number} right - End of second subarray\n     * @param {Function} compareCallback - Comparison callback function\n     */\n    async mergeSubGroups(left, mid, right, compareCallback) {\n        console.log(`Merging subarrays: ${left}-${mid} with ${mid + 1}-${right}`);\n        let i = left;\n        let j = mid + 1;\n        const merged = [];\n\n        while (i <= mid && j <= right) {\n            console.log(`Comparing ${this.namMember[i]} with ${this.namMember[j]}`);\n            const result = await compareCallback(this.namMember[i], this.namMember[j]);\n            console.log(`Comparison result: ${result}`);\n\n            if (result <= -0.5) {  // First name preferred\n                console.log(`${this.namMember[i]} preferred over ${this.namMember[j]}`);\n                merged.push(this.namMember[j++]);  // Put less preferred name first\n            } else if (result >= 0.5) {  // Second name preferred\n                console.log(`${this.namMember[j]} preferred over ${this.namMember[i]}`);\n                merged.push(this.namMember[i++]);  // Put less preferred name first\n            } else {\n                // Handle near-ties with slight preference\n                console.log(`Near tie between ${this.namMember[i]} and ${this.namMember[j]}`);\n                if (result < 0) {\n                    merged.push(this.namMember[j++]);\n                    merged.push(this.namMember[i++]);\n                } else {\n                    merged.push(this.namMember[i++]);\n                    merged.push(this.namMember[j++]);\n                }\n            }\n        }\n\n        // Add remaining elements\n        while (i <= mid) {\n            console.log(`Adding remaining left item: ${this.namMember[i]}`);\n            merged.push(this.namMember[i++]);\n        }\n        while (j <= right) {\n            console.log(`Adding remaining right item: ${this.namMember[j]}`);\n            merged.push(this.namMember[j++]);\n        }\n\n        // Update original array and ranks\n        for (let k = 0; k < merged.length; k++) {\n            this.namMember[left + k] = merged[k];\n        }\n        // Update ranks in reverse order to get most preferred first\n        if (left === 0 && right === this.namMember.length - 1) {\n            this.ranks = [...merged].reverse();\n        }\n        console.log(`Merged result: ${merged.join(', ')}`);\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMA,gBAAgB,CAAC;EAC1BC,WAAWA,CAACC,KAAK,EAAE;IACf,IAAI,CAACC,SAAS,GAAG,CAAC,GAAGD,KAAK,CAAC;IAC3B,IAAI,CAACE,IAAI,GAAG,CAAC;IACb,IAAI,CAACC,GAAG,GAAG,IAAIC,KAAK,CAACJ,KAAK,CAACK,MAAM,CAAC;IAClC,IAAI,CAACC,KAAK,GAAG,EAAE;IACfC,OAAO,CAACC,GAAG,CAAC,0CAA0C,EAAER,KAAK,CAAC;EAClE;;EAEA;AACJ;AACA;AACA;AACA;EACI,MAAMS,IAAIA,CAACC,eAAe,EAAE;IACxBH,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAE,IAAI,CAACP,SAAS,CAAC;IAChE,MAAMU,CAAC,GAAG,IAAI,CAACV,SAAS,CAACI,MAAM;IAC/B,KAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,CAAC,EAAEC,CAAC,EAAE,EAAE;MACxB,IAAI,CAACT,GAAG,CAACS,CAAC,CAAC,GAAG,CAAC;IACnB;IACA,IAAIC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACJ,CAAC,GAAG,CAAC,CAAC;IAC3B,MAAM,IAAI,CAACK,aAAa,CAAC,CAAC,EAAEL,CAAC,GAAG,CAAC,EAAED,eAAe,CAAC;IACnDH,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAACF,KAAK,CAAC;IACvD,OAAO,IAAI,CAACA,KAAK;EACrB;;EAEA;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,MAAMU,aAAaA,CAACC,IAAI,EAAEC,KAAK,EAAER,eAAe,EAAE;IAC9C,IAAIQ,KAAK,GAAGD,IAAI,GAAG,CAAC,EAAE;MAClB,IAAIA,IAAI,KAAKC,KAAK,EAAE;QAChB,IAAI,CAACZ,KAAK,CAACa,IAAI,CAAC,IAAI,CAAClB,SAAS,CAACgB,IAAI,CAAC,CAAC;QACrCV,OAAO,CAACC,GAAG,CAAC,+BAA+B,IAAI,CAACP,SAAS,CAACgB,IAAI,CAAC,EAAE,CAAC;MACtE;MACA;IACJ;IAEA,MAAMJ,GAAG,GAAGC,IAAI,CAACC,KAAK,CAAC,CAACE,IAAI,GAAGC,KAAK,IAAI,CAAC,CAAC;IAC1CX,OAAO,CAACC,GAAG,CAAC,8BAA8BS,IAAI,IAAIJ,GAAG,QAAQA,GAAG,GAAG,CAAC,IAAIK,KAAK,EAAE,CAAC;IAChF,MAAM,IAAI,CAACF,aAAa,CAACC,IAAI,EAAEJ,GAAG,EAAEH,eAAe,CAAC;IACpD,MAAM,IAAI,CAACM,aAAa,CAACH,GAAG,GAAG,CAAC,EAAEK,KAAK,EAAER,eAAe,CAAC;IACzD,MAAM,IAAI,CAACU,cAAc,CAACH,IAAI,EAAEJ,GAAG,EAAEK,KAAK,EAAER,eAAe,CAAC;EAChE;;EAEA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACI,MAAMU,cAAcA,CAACH,IAAI,EAAEJ,GAAG,EAAEK,KAAK,EAAER,eAAe,EAAE;IACpDH,OAAO,CAACC,GAAG,CAAC,sBAAsBS,IAAI,IAAIJ,GAAG,SAASA,GAAG,GAAG,CAAC,IAAIK,KAAK,EAAE,CAAC;IACzE,IAAIN,CAAC,GAAGK,IAAI;IACZ,IAAII,CAAC,GAAGR,GAAG,GAAG,CAAC;IACf,MAAMS,MAAM,GAAG,EAAE;IAEjB,OAAOV,CAAC,IAAIC,GAAG,IAAIQ,CAAC,IAAIH,KAAK,EAAE;MAC3BX,OAAO,CAACC,GAAG,CAAC,aAAa,IAAI,CAACP,SAAS,CAACW,CAAC,CAAC,SAAS,IAAI,CAACX,SAAS,CAACoB,CAAC,CAAC,EAAE,CAAC;MACvE,MAAME,MAAM,GAAG,MAAMb,eAAe,CAAC,IAAI,CAACT,SAAS,CAACW,CAAC,CAAC,EAAE,IAAI,CAACX,SAAS,CAACoB,CAAC,CAAC,CAAC;MAC1Ed,OAAO,CAACC,GAAG,CAAC,sBAAsBe,MAAM,EAAE,CAAC;MAE3C,IAAIA,MAAM,IAAI,CAAC,GAAG,EAAE;QAAG;QACnBhB,OAAO,CAACC,GAAG,CAAC,GAAG,IAAI,CAACP,SAAS,CAACW,CAAC,CAAC,mBAAmB,IAAI,CAACX,SAAS,CAACoB,CAAC,CAAC,EAAE,CAAC;QACvEC,MAAM,CAACH,IAAI,CAAC,IAAI,CAAClB,SAAS,CAACoB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAE;MACvC,CAAC,MAAM,IAAIE,MAAM,IAAI,GAAG,EAAE;QAAG;QACzBhB,OAAO,CAACC,GAAG,CAAC,GAAG,IAAI,CAACP,SAAS,CAACoB,CAAC,CAAC,mBAAmB,IAAI,CAACpB,SAAS,CAACW,CAAC,CAAC,EAAE,CAAC;QACvEU,MAAM,CAACH,IAAI,CAAC,IAAI,CAAClB,SAAS,CAACW,CAAC,EAAE,CAAC,CAAC,CAAC,CAAE;MACvC,CAAC,MAAM;QACH;QACAL,OAAO,CAACC,GAAG,CAAC,oBAAoB,IAAI,CAACP,SAAS,CAACW,CAAC,CAAC,QAAQ,IAAI,CAACX,SAAS,CAACoB,CAAC,CAAC,EAAE,CAAC;QAC7E,IAAIE,MAAM,GAAG,CAAC,EAAE;UACZD,MAAM,CAACH,IAAI,CAAC,IAAI,CAAClB,SAAS,CAACoB,CAAC,EAAE,CAAC,CAAC;UAChCC,MAAM,CAACH,IAAI,CAAC,IAAI,CAAClB,SAAS,CAACW,CAAC,EAAE,CAAC,CAAC;QACpC,CAAC,MAAM;UACHU,MAAM,CAACH,IAAI,CAAC,IAAI,CAAClB,SAAS,CAACW,CAAC,EAAE,CAAC,CAAC;UAChCU,MAAM,CAACH,IAAI,CAAC,IAAI,CAAClB,SAAS,CAACoB,CAAC,EAAE,CAAC,CAAC;QACpC;MACJ;IACJ;;IAEA;IACA,OAAOT,CAAC,IAAIC,GAAG,EAAE;MACbN,OAAO,CAACC,GAAG,CAAC,+BAA+B,IAAI,CAACP,SAAS,CAACW,CAAC,CAAC,EAAE,CAAC;MAC/DU,MAAM,CAACH,IAAI,CAAC,IAAI,CAAClB,SAAS,CAACW,CAAC,EAAE,CAAC,CAAC;IACpC;IACA,OAAOS,CAAC,IAAIH,KAAK,EAAE;MACfX,OAAO,CAACC,GAAG,CAAC,gCAAgC,IAAI,CAACP,SAAS,CAACoB,CAAC,CAAC,EAAE,CAAC;MAChEC,MAAM,CAACH,IAAI,CAAC,IAAI,CAAClB,SAAS,CAACoB,CAAC,EAAE,CAAC,CAAC;IACpC;;IAEA;IACA,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACjB,MAAM,EAAEmB,CAAC,EAAE,EAAE;MACpC,IAAI,CAACvB,SAAS,CAACgB,IAAI,GAAGO,CAAC,CAAC,GAAGF,MAAM,CAACE,CAAC,CAAC;IACxC;IACA;IACA,IAAIP,IAAI,KAAK,CAAC,IAAIC,KAAK,KAAK,IAAI,CAACjB,SAAS,CAACI,MAAM,GAAG,CAAC,EAAE;MACnD,IAAI,CAACC,KAAK,GAAG,CAAC,GAAGgB,MAAM,CAAC,CAACG,OAAO,CAAC,CAAC;IACtC;IACAlB,OAAO,CAACC,GAAG,CAAC,kBAAkBc,MAAM,CAACI,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;EACtD;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}